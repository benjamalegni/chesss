{"ast":null,"code":"import{TeamType}from\"../../Constants\";import Referee from\"../Referee\";export const pawnMove=(initialPosition,desiredPosition,team,dx,dy,boardState)=>{const specialRow=team===TeamType.OUR?1:6;const pawnDirection=team===TeamType.OUR?1:-1;if(initialPosition.x===desiredPosition.x&&initialPosition.y===specialRow&&dy===2*pawnDirection){if(!Referee.tileIsOccupied(desiredPosition,boardState)&&!Referee.tileIsOccupied({x:desiredPosition.x,y:desiredPosition.y-pawnDirection},boardState)){return true;}}else if(initialPosition.x===desiredPosition.x&&dy===pawnDirection){return!Referee.tileIsOccupied(desiredPosition,boardState);}//attack\nelse if(dy===pawnDirection&&(dx===-1||dx===1)){return Referee.tileIsOccupiedByOpponent(desiredPosition,boardState,team);}return false;};export const GetPossiblePawnMoves=(piece,boardState)=>{const possibleMoves=[];const pawnDirection=piece.team===TeamType.OUR?1:-1;if(!Referee.tileIsOccupied({x:piece.position.x,y:piece.position.y+pawnDirection},boardState)){possibleMoves.push({x:piece.position.x,y:piece.position.y+pawnDirection});}return possibleMoves;};","map":{"version":3,"names":["TeamType","Referee","pawnMove","initialPosition","desiredPosition","team","dx","dy","boardState","specialRow","OUR","pawnDirection","x","y","tileIsOccupied","tileIsOccupiedByOpponent","GetPossiblePawnMoves","piece","possibleMoves","position","push"],"sources":["/home/outer/Documents/chesss/src/referee/rules/PawnRules.ts"],"sourcesContent":["import { Piece, Position, TeamType } from \"../../Constants\";\nimport Referee from \"../Referee\"\n\n\n    export const pawnMove=(initialPosition:Position, desiredPosition: Position, team:TeamType,dx:number, dy:number, boardState:Piece[]):boolean=>{\n            const specialRow = (team === TeamType.OUR)?1:6;\n            const pawnDirection = (team === TeamType.OUR)? 1:-1;\n\n            if(initialPosition.x===desiredPosition.x && initialPosition.y===specialRow && dy===2*pawnDirection){\n                if(!Referee.tileIsOccupied(desiredPosition,boardState) && !Referee.tileIsOccupied({x: desiredPosition.x, y:desiredPosition.y-pawnDirection}, boardState)){\n                    return true;\n                }\n            }else if(initialPosition.x===desiredPosition.x && dy===pawnDirection){\n                    return !Referee.tileIsOccupied(desiredPosition,boardState)\n            }\n            //attack\n            else if(dy===pawnDirection && ((dx===-1) || (dx===1))){\n                return Referee.tileIsOccupiedByOpponent(desiredPosition,boardState,team);\n            }\n        return false;\n    }\n\nexport const GetPossiblePawnMoves = (piece:Piece, boardState : Piece[]):Position[] => {\n    const possibleMoves:Position [] = [];\n    const pawnDirection = (piece.team === TeamType.OUR)? 1:-1;\n    \n    if(!Referee.tileIsOccupied({x:piece.position.x ,y: piece.position.y + pawnDirection}, boardState)){\n        possibleMoves.push({x:piece.position.x, y:piece.position.y + pawnDirection});\n    }\n\n    return possibleMoves;\n}"],"mappings":"AAAA,OAA0BA,QAAQ,KAAQ,iBAAiB,CAC3D,MAAO,CAAAC,OAAO,KAAM,YAAY,CAG5B,MAAO,MAAM,CAAAC,QAAQ,CAACA,CAACC,eAAwB,CAAEC,eAAyB,CAAEC,IAAa,CAACC,EAAS,CAAEC,EAAS,CAAEC,UAAkB,GAAW,CACrI,KAAM,CAAAC,UAAU,CAAIJ,IAAI,GAAKL,QAAQ,CAACU,GAAG,CAAE,CAAC,CAAC,CAAC,CAC9C,KAAM,CAAAC,aAAa,CAAIN,IAAI,GAAKL,QAAQ,CAACU,GAAG,CAAG,CAAC,CAAC,CAAC,CAAC,CAEnD,GAAGP,eAAe,CAACS,CAAC,GAAGR,eAAe,CAACQ,CAAC,EAAIT,eAAe,CAACU,CAAC,GAAGJ,UAAU,EAAIF,EAAE,GAAG,CAAC,CAACI,aAAa,CAAC,CAC/F,GAAG,CAACV,OAAO,CAACa,cAAc,CAACV,eAAe,CAACI,UAAU,CAAC,EAAI,CAACP,OAAO,CAACa,cAAc,CAAC,CAACF,CAAC,CAAER,eAAe,CAACQ,CAAC,CAAEC,CAAC,CAACT,eAAe,CAACS,CAAC,CAACF,aAAa,CAAC,CAAEH,UAAU,CAAC,CAAC,CACrJ,MAAO,KAAI,CACf,CACJ,CAAC,IAAK,IAAGL,eAAe,CAACS,CAAC,GAAGR,eAAe,CAACQ,CAAC,EAAIL,EAAE,GAAGI,aAAa,CAAC,CAC7D,MAAO,CAACV,OAAO,CAACa,cAAc,CAACV,eAAe,CAACI,UAAU,CAAC,CAClE,CACA;AAAA,IACK,IAAGD,EAAE,GAAGI,aAAa,GAAML,EAAE,GAAG,CAAC,CAAC,EAAMA,EAAE,GAAG,CAAE,CAAC,CAAC,CAClD,MAAO,CAAAL,OAAO,CAACc,wBAAwB,CAACX,eAAe,CAACI,UAAU,CAACH,IAAI,CAAC,CAC5E,CACJ,MAAO,MAAK,CAChB,CAAC,CAEL,MAAO,MAAM,CAAAW,oBAAoB,CAAGA,CAACC,KAAW,CAAET,UAAoB,GAAgB,CAClF,KAAM,CAAAU,aAAyB,CAAG,EAAE,CACpC,KAAM,CAAAP,aAAa,CAAIM,KAAK,CAACZ,IAAI,GAAKL,QAAQ,CAACU,GAAG,CAAG,CAAC,CAAC,CAAC,CAAC,CAEzD,GAAG,CAACT,OAAO,CAACa,cAAc,CAAC,CAACF,CAAC,CAACK,KAAK,CAACE,QAAQ,CAACP,CAAC,CAAEC,CAAC,CAAEI,KAAK,CAACE,QAAQ,CAACN,CAAC,CAAGF,aAAa,CAAC,CAAEH,UAAU,CAAC,CAAC,CAC9FU,aAAa,CAACE,IAAI,CAAC,CAACR,CAAC,CAACK,KAAK,CAACE,QAAQ,CAACP,CAAC,CAAEC,CAAC,CAACI,KAAK,CAACE,QAAQ,CAACN,CAAC,CAAGF,aAAa,CAAC,CAAC,CAChF,CAEA,MAAO,CAAAO,aAAa,CACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}